<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI File Processor - Enhanced</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- Add Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f7f3e9 0%, #e8dcc0 25%, #d4c5a0 50%, #c2b091 100%);
            min-height: 100vh;
            color: #5d4e37;
            overflow-x: hidden;
        }

        /* Animated background particles */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            background: rgba(139, 115, 85, 0.15);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: rgba(139, 115, 85, 0.1);
            backdrop-filter: blur(15px);
            border-right: 1px solid rgba(139, 115, 85, 0.2);
            padding: 20px;
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            left: 0;
            top: 0;
            z-index: 100;
            transition: transform 0.3s ease;
        }

        .sidebar.collapsed {
            transform: translateX(-100%);
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(139, 115, 85, 0.2);
        }

        .sidebar-brand {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar-brand .brand-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #8b7355, #a0845c);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .sidebar-brand h2 {
            font-size: 1.3rem;
            font-weight: 700;
            background: linear-gradient(135deg, #8b7355 0%, #a0845c 50%, #b8956d 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .sidebar-toggle {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: #8b7355;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sidebar-toggle:hover {
            background: rgba(139, 115, 85, 0.1);
            transform: rotate(90deg);
        }

        .sidebar-menu {
            flex: 1;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            margin-bottom: 8px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #8b7355;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .menu-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 3px;
            background: linear-gradient(135deg, #8b7355, #a0845c);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }

        .menu-item:hover::before {
            transform: scaleY(1);
        }

        .menu-item:hover {
            background: rgba(139, 115, 85, 0.15);
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(139, 115, 85, 0.2);
        }

        .menu-item.active {
            background: linear-gradient(135deg, rgba(139, 115, 85, 0.2), rgba(160, 132, 92, 0.2));
            color: #5d4e37;
            font-weight: 600;
        }

        .menu-item.active::before {
            transform: scaleY(1);
        }

        .menu-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sidebar-footer {
            padding-top: 20px;
            border-top: 1px solid rgba(139, 115, 85, 0.2);
        }

        .footer-info {
            font-size: 0.8rem;
            color: #a0845c;
            text-align: center;
            line-height: 1.4;
            padding: 12px;
            background: rgba(139, 115, 85, 0.05);
            border-radius: 8px;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 280px;
            transition: margin-left 0.3s ease;
        }

        .main-content.expanded {
            margin-left: 0;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 0 20px;
        }

        .header {
            text-align: center;
            padding: 40px 20px;
            background: rgba(139, 115, 85, 0.1);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(139, 115, 85, 0.2);
            position: relative;
            overflow: hidden;
            border-radius: 0 0 20px 20px;
            margin-bottom: 20px;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(139, 115, 85, 0.1), transparent);
            animation: rotate 4s linear infinite;
        }

        @keyframes rotate {
            100% { transform: rotate(360deg); }
        }

        .header-content {
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #8b7355, #a0845c);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }

        .header-text h1 {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #8b7355 0%, #a0845c 50%, #b8956d 100%);
            -webkit-background-clip: text;
            /* -webkit-text-fill-color: transparent; */
            background-clip: text;
            margin-bottom: 10px;
            text-shadow: 0 0 30px rgba(139, 115, 85, 0.3);
        }

        .header-text p {
            font-size: 1.1rem;
            color: #4B352A;
            font-weight: 400;
        }

        .mobile-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 101;
            background: rgba(139, 115, 85, 0.2);
            border: none;
            padding: 12px;
            border-radius: 8px;
            color: #4B352A;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .mobile-toggle:hover {
            background: rgba(139, 115, 85, 0.3);
            transform: scale(1.05);
        }

        /* Chat Section */
        .chat-section {
            background: rgba(139, 115, 85, 0.1);
            border-radius: 20px;
            margin: 20px 0;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(139, 115, 85, 0.2);
            box-shadow: 0 10px 30px rgba(139, 115, 85, 0.2);
            display: none;
            animation: slideUp 0.6s ease-out;
            flex-direction: column;
            height: 500px;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chat-header {
            display: flex;
            align-items: center;
            padding: 20px 25px;
            border-bottom: 1px solid rgba(139, 115, 85, 0.2);
        }

        .chat-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #8b7355, #a0845c);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            position: relative;
            color: white;
        }

        .chat-avatar::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 50%;
            background: linear-gradient(45deg, #8b7355, #a0845c, #b8956d, #8b7355);
            z-index: -1;
            animation: rotate 3s linear infinite;
        }

        .chat-info h3 {
            font-size: 1.1rem;
            font-weight: 700;
            color: #5d4e37;
            margin-bottom: 2px;
        }

        .chat-info p {
            color: #8b7355;
            font-size: 0.85rem;
        }

        .chat-messages {
            flex: 1;
            padding: 20px 25px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(139, 115, 85, 0.1);
            border-radius: 3px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(139, 115, 85, 0.3);
            border-radius: 3px;
        }

        .message {
            display: flex;
            gap: 12px;
            animation: messageSlide 0.3s ease-out;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            color: white;
        }

        .message.user .message-avatar {
            background: linear-gradient(135deg, #b8956d, #a0845c);
        }

        .message.ai .message-avatar {
            background: linear-gradient(135deg, #8b7355, #a0845c);
        }

        .message-content {
            background: rgba(139, 115, 85, 0.15);
            padding: 12px 16px;
            border-radius: 18px;
            max-width: 70%;
            word-wrap: break-word;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 115, 85, 0.2);
            color: #5d4e37;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, rgba(184, 149, 109, 0.2), rgba(160, 132, 92, 0.2));
            border-radius: 18px 18px 4px 18px;
        }

        .message.ai .message-content {
            background: rgba(139, 115, 85, 0.15);
            border-radius: 18px 18px 18px 4px;
        }

        .chat-input-container {
            padding: 20px 25px;
            border-top: 1px solid rgba(139, 115, 85, 0.2);
        }

        .chat-input-wrapper {
            display: flex;
            gap: 10px;
            align-items: flex-end;
        }

        .chat-input {
            flex: 1;
            background: rgba(139, 115, 85, 0.1);
            border: 1px solid rgba(139, 115, 85, 0.3);
            border-radius: 20px;
            padding: 12px 16px;
            color: #5d4e37;
            font-size: 0.95rem;
            resize: none;
            min-height: 44px;
            max-height: 120px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .chat-input:focus {
            outline: none;
            border-color: #8b7355;
            box-shadow: 0 0 20px rgba(139, 115, 85, 0.2);
        }

        .chat-input::placeholder {
            color: #a0845c;
        }

        .send-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: linear-gradient(135deg, #8b7355, #a0845c);
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .send-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(139, 115, 85, 0.4);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Audio controls */
        .audio-controls {
            display: flex;
            gap: 5px;
            margin-bottom: 10px;
        }

        .audio-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(139, 115, 85, 0.2);
            border: 1px solid rgba(139, 115, 85, 0.3);
            color: #5d4e37;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .audio-btn:hover {
            background: rgba(139, 115, 85, 0.3);
        }

        .audio-btn.active {
            background: linear-gradient(135deg, #8b7355, #a0845c);
            color: white;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 5px;
        }

        .volume-slider {
            width: 80px;
            -webkit-appearance: none;
            height: 4px;
            background: rgba(139, 115, 85, 0.2);
            border-radius: 2px;
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #8b7355;
            cursor: pointer;
        }

        .welcome-message {
            text-align: center;
            color: #8b7355;
            font-style: italic;
            padding: 40px 20px;
        }

        /* Download Section */
        .download-section {
            background: rgba(139, 115, 85, 0.1);
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(139, 115, 85, 0.2);
            box-shadow: 0 10px 30px rgba(139, 115, 85, 0.2);
            display: none;
            animation: slideUp 0.6s ease-out;
        }

        .download-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }

        .download-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #8b7355, #a0845c);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .download-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #5d4e37;
        }

        .download-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .upload-section {
            background: rgba(139, 115, 85, 0.1);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(139, 115, 85, 0.2);
            box-shadow: 0 10px 30px rgba(139, 115, 85, 0.2);
        }

        .upload-area {
            border: 2px dashed rgba(139, 115, 85, 0.4);
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            background: rgba(139, 115, 85, 0.05);
            overflow: hidden;
            margin-bottom: 20px;
        }

        .upload-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(139, 115, 85, 0.1), transparent);
            transition: left 0.5s;
        }

        .upload-area:hover::before {
            left: 100%;
        }

        .upload-area:hover {
            border-color: #8b7355;
            background: rgba(139, 115, 85, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(139, 115, 85, 0.2);
        }

        .upload-area.dragover {
            border-color: #a0845c;
            background: rgba(160, 132, 92, 0.15);
            transform: scale(1.02);
        }

        .upload-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 15px;
            background: linear-gradient(135deg, #8b7355, #a0845c);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }

        .upload-text {
            font-size: 1.2rem;
            font-weight: 600;
            color: #5d4e37;
            margin-bottom: 8px;
        }

        .upload-subtext {
            color: #8b7355;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .file-input {
            display: none;
        }

        .btn {
            background: linear-gradient(135deg, #8b7355 0%, #a0845c 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin: 0 5px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(139, 115, 85, 0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: rgba(139, 115, 85, 0.2);
            border: 1px solid rgba(139, 115, 85, 0.3);
            color: #5d4e37;
        }

        .btn-secondary:hover {
            background: rgba(139, 115, 85, 0.3);
            box-shadow: 0 10px 20px rgba(139, 115, 85, 0.2);
        }

        .btn-download {
            background: linear-gradient(135deg, #6b8e23, #8fbc8f);
            color: white;
        }

        .btn-download:hover {
            box-shadow: 0 10px 20px rgba(107, 142, 35, 0.4);
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .file-list {
            margin-top: 20px;
        }

        .file-item {
            background: rgba(139, 115, 85, 0.1);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s ease;
            border: 1px solid rgba(139, 115, 85, 0.2);
            backdrop-filter: blur(10px);
        }

        .file-item:hover {
            background: rgba(139, 115, 85, 0.15);
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(139, 115, 85, 0.2);
        }

        .file-info {
            display: flex;
            align-items: center;
            flex: 1;
        }

        .file-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            font-size: 0.7rem;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .file-icon::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: rotate 2s linear infinite;
        }

        .file-icon.pdf { background: linear-gradient(135deg, #d4840a, #b8700a); }
        .file-icon.jpg, .file-icon.jpeg { background: linear-gradient(135deg, #cd9d34, #b8872a); }
        .file-icon.png { background: linear-gradient(135deg, #8b7355, #a0845c); }
        .file-icon.default { background: linear-gradient(135deg, #a0845c, #8b7355); }

        .file-details h4 {
            color: #5d4e37;
            font-size: 0.95rem;
            margin-bottom: 3px;
            font-weight: 600;
        }

        .file-details p {
            color: #8b7355;
            font-size: 0.8rem;
        }

        .file-actions {
            display: flex;
            gap: 8px;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 0.75rem;
            border-radius: 15px;
        }

        .btn-danger {
            background: linear-gradient(135deg, #d4840a, #b8700a);
        }

        .btn-danger:hover {
            box-shadow: 0 8px 16px rgba(212, 132, 10, 0.4);
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(139, 115, 85, 0.2);
            border-radius: 3px;
            margin-top: 15px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #8b7355, #a0845c, #b8956d);
            width: 0%;
            transition: width 0.3s ease;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .status-message {
            text-align: center;
            padding: 15px;
            border-radius: 12px;
            margin-top: 15px;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .status-success {
            background: rgba(107, 142, 35, 0.2);
            color: #6b8e23;
            border: 1px solid rgba(107, 142, 35, 0.3);
        }

        .status-error {
            background: rgba(212, 132, 10, 0.2);
            color: #d4840a;
            border: 1px solid rgba(212, 132, 10, 0.3);
        }

        /* Content sections for sidebar navigation */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        @media (max-width: 768px) {
            .mobile-toggle {
                display: block;
            }

            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .container {
                padding: 0 10px;
            }

            .header {
                padding: 30px 15px;
                margin-top: 60px;
            }

            .header-content {
                flex-direction: column;
                gap: 10px;
            }

            .header-text h1 {
                font-size: 2rem;
            }

            .upload-section, .chat-section, .download-section {
                margin: 15px 0;
                padding: 20px;
            }

            .upload-area {
                padding: 30px 15px;
            }

            .file-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .file-actions {
                width: 100%;
                justify-content: flex-end;
            }

            .action-buttons, .download-buttons {
                flex-direction: column;
                align-items: center;
            }

            .btn {
                width: 100%;
                max-width: 250px;
            }

            .chat-section {
                height: 400px;
            }

            .message-content {
                max-width: 85%;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation" id="bgAnimation"></div>
    
    <div class="app-container">
        <!-- Mobile Toggle -->
        <button class="mobile-toggle" id="mobileToggle">
            <i data-lucide="menu"></i>
        </button>

        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-brand">
                    <div class="brand-icon">
                        <i data-lucide="bot"></i>
                    </div>
                    <h2>AI Assistant</h2>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i data-lucide="zap"></i>
                </button>
            </div>
            
            <div class="sidebar-menu">
                <div class="menu-item active" data-section="file-manager">
                    <div class="menu-icon">
                        <i data-lucide="folder"></i>
                    </div>
                    <span>File Manager</span>
                </div>
                <div class="menu-item" data-section="chat-history">
                    <div class="menu-icon">
                        <i data-lucide="message-circle"></i>
                    </div>
                    <span>Chat History</span>
                </div>
                <div class="menu-item" data-section="analytics">
                    <div class="menu-icon">
                        <i data-lucide="bar-chart-3"></i>
                    </div>
                    <span>Analytics</span>
                </div>
                <div class="menu-item" data-section="settings">
                    <div class="menu-icon">
                        <i data-lucide="settings"></i>
                    </div>
                    <span>Settings</span>
                </div>
                <div class="menu-item" data-section="documentation">
                    <div class="menu-icon">
                        <i data-lucide="book-open"></i>
                    </div>
                    <span>Documentation</span>
                </div>
                <div class="menu-item" data-section="themes">
                    <div class="menu-icon">
                        <i data-lucide="palette"></i>
                    </div>
                    <span>Themes</span>
                </div>
            </div>
            
            <div class="sidebar-footer">
                <div class="footer-info">
                    <p><strong>AI File Assistant v2.0</strong></p>
                    <p>Process • Analyze • Chat</p>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <div class="container">
                <!-- Header -->
                <div class="header">
                    <div class="header-content">
                        <div class="header-icon">
                            <i data-lucide="bot"></i>
                        </div>
                        <div class="header-text">
                            <h1>AI File Assistant</h1>
                            <p>Upload files and chat with AI about your content</p>
                        </div>
                    </div>
                </div>

                <!-- File Manager Section -->
                <div class="content-section active" id="file-manager">
                    <!-- Chat Section -->
                    <div class="chat-section" id="chatSection">
                        <div class="chat-header">
                            <div class="chat-avatar">
                                <i data-lucide="bot"></i>
                            </div>
                            <div class="chat-info">
                                <h3>AI Assistant</h3>
                                <p>Ready to help with your files</p>
                            </div>
                        </div>
                        <div class="chat-messages" id="chatMessages">
                            <div class="welcome-message">
                                Start a conversation about your uploaded files...
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <div class="audio-controls">
                                <button class="audio-btn" id="micBtn" title="Start/Stop Recording">
                                    <i data-lucide="mic"></i>
                                </button>
                                <button class="audio-btn" id="speakerBtn" title="Toggle Speaker">
                                    <i data-lucide="volume-2"></i>
                                </button>
                                <div class="volume-control">
                                    <i data-lucide="volume-2"></i>
                                    <input type="range" min="0" max="1" step="0.1" value="0.7" class="volume-slider" id="volumeSlider">
                                </div>
                            </div>
                            <div class="chat-input-wrapper">
                                <textarea 
                                    class="chat-input"
                                    id="chatInput"
                                    placeholder="Ask me anything about your files..."
                                    rows="1"
                                ></textarea>
                                <button class="send-btn" id="sendBtn" onclick="sendMessage()">
                                    <i data-lucide="send"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Download Section -->
                    <div class="download-section" id="downloadSection">
                        <div class="download-header">
                            <div class="download-icon">
                                <i data-lucide="download"></i>
                            </div>
                            <div class="download-title">Download Options</div>
                        </div>
                        <div class="download-buttons">
                            <button class="btn btn-download" onclick="downloadChat()">
                                <i data-lucide="message-square"></i>
                                Download Chat
                            </button>
                            <button class="btn btn-download" onclick="downloadFiles()">
                                <i data-lucide="file-archive"></i>
                                Download Files
                            </button>
                            <button class="btn btn-download" onclick="downloadReport()">
                                <i data-lucide="file-text"></i>
                                Download Report
                            </button>
                        </div>
                    </div>

                    <!-- Upload Section -->
                    <div class="upload-section">
                        <div class="upload-area" id="uploadArea">
                            <div class="upload-icon">
                                <i data-lucide="folder-plus"></i>
                            </div>
                            <div class="upload-text">Drop your files here</div>
                            <div class="upload-subtext">Support for all file formats • Max 10MB per file</div>
                            <input type="file" id="fileInput" class="file-input" multiple accept="*/*">
                        </div>
                        <div class="action-buttons">
                            <button class="btn" onclick="document.getElementById('fileInput').click()">
                                <i data-lucide="upload"></i>
                                Upload Files
                            </button>
                            <button class="btn btn-secondary" id="processBtn" onclick="processFiles()" disabled>
                                <i data-lucide="zap"></i>
                                Process Files
                            </button>
                            <button class="btn btn-secondary" id="clearAllBtn" onclick="clearAll()">
                                <i data-lucide="trash-2"></i>
                                Clear All
                            </button>
                        </div>
                        <div class="file-list" id="fileList"></div>
                        <div class="progress-bar" id="progressBar" style="display: none;">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div id="statusMessage"></div>
                    </div>
                </div>

                <!-- Chat History Section -->
                <div class="content-section" id="chat-history">
                    <div class="upload-section">
                        <div style="text-align: center; padding: 40px;">
                            <div class="upload-icon">
                                <i data-lucide="message-circle"></i>
                            </div>
                            <h2 style="color: #5d4e37; margin: 20px 0;">Chat History</h2>
                            <p style="color: #8b7355;">Your conversation history will appear here</p>
                        </div>
                    </div>
                </div>

                <!-- Analytics Section -->
                <div class="content-section" id="analytics">
                    <div class="upload-section">
                        <div style="text-align: center; padding: 40px;">
                            <div class="upload-icon">
                                <i data-lucide="bar-chart-3"></i>
                            </div>
                            <h2 style="color: #5d4e37; margin: 20px 0;">Analytics Dashboard</h2>
                            <p style="color: #8b7355;">File processing analytics and insights</p>
                        </div>
                    </div>
                </div>

                <!-- Settings Section -->
                <div class="content-section" id="settings">
                    <div class="upload-section">
                        <div style="text-align: center; padding: 40px;">
                            <div class="upload-icon">
                                <i data-lucide="settings"></i>
                            </div>
                            <h2 style="color: #5d4e37; margin: 20px 0;">Settings</h2>
                            <p style="color: #8b7355;">Configure your AI assistant preferences</p>
                        </div>
                    </div>
                </div>

                <!-- Documentation Section -->
                <div class="content-section" id="documentation">
                    <div class="upload-section">
                        <div style="text-align: center; padding: 40px;">
                            <div class="upload-icon">
                                <i data-lucide="book-open"></i>
                            </div>
                            <h2 style="color: #5d4e37; margin: 20px 0;">Documentation</h2>
                            <p style="color: #8b7355;">Learn how to use the AI File Assistant</p>
                        </div>
                    </div>
                </div>

                <!-- Themes Section -->
                <div class="content-section" id="themes">
                    <div class="upload-section">
                        <div style="text-align: center; padding: 40px;">
                            <div class="upload-icon">
                                <i data-lucide="palette"></i>
                            </div>
                            <h2 style="color: #5d4e37; margin: 20px 0;">Themes</h2>
                            <p style="color: #8b7355;">Customize the appearance of your assistant</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let uploadedFiles = [];
        let processedFiles = [];
        let chatHistory = [];
        let recognition;
        let isRecording = false;
        let speakerEnabled = true;
        let audioContext;
        let gainNode;
        let audioQueue = [];
        let isPlaying = false;

        // DOM Elements
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const fileList = document.getElementById('fileList');
        const processBtn = document.getElementById('processBtn');
        const clearAllBtn = document.getElementById('clearAllBtn');
        const progressBar = document.getElementById('progressBar');
        const progressFill = document.getElementById('progressFill');
        const statusMessage = document.getElementById('statusMessage');
        const chatSection = document.getElementById('chatSection');
        const downloadSection = document.getElementById('downloadSection');
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const sendBtn = document.getElementById('sendBtn');
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebarToggle');
        const mobileToggle = document.getElementById('mobileToggle');
        const mainContent = document.getElementById('mainContent');
        const micBtn = document.getElementById('micBtn');
        const speakerBtn = document.getElementById('speakerBtn');
        const volumeSlider = document.getElementById('volumeSlider');

        // Initialize Lucide icons
        lucide.createIcons();

        // Initialize animated background
        function createParticles() {
            const bgAnimation = document.getElementById('bgAnimation');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.width = Math.random() * 4 + 2 + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                bgAnimation.appendChild(particle);
            }
        }

        // Sidebar navigation functionality
        function initSidebarNavigation() {
            const menuItems = document.querySelectorAll('.menu-item');
            const contentSections = document.querySelectorAll('.content-section');

            menuItems.forEach(item => {
                item.addEventListener('click', () => {
                    // Remove active class from all menu items
                    menuItems.forEach(mi => mi.classList.remove('active'));
                    // Add active class to clicked item
                    item.classList.add('active');

                    // Hide all content sections
                    contentSections.forEach(section => section.classList.remove('active'));
                    
                    // Show selected content section
                    const sectionId = item.getAttribute('data-section');
                    const targetSection = document.getElementById(sectionId);
                    if (targetSection) {
                        targetSection.classList.add('active');
                    }

                    // Close sidebar on mobile after selection
                    if (window.innerWidth <= 768) {
                        sidebar.classList.remove('open');
                    }
                });
            });
        }

        // Initialize audio context
        function initAudioContext() {
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                gainNode = audioContext.createGain();
                gainNode.connect(audioContext.destination);
                gainNode.gain.value = volumeSlider.value;
            } catch (e) {
                console.error('Audio context initialization failed:', e);
            }
        }

        // Initialize speech recognition
        function initSpeechRecognition() {
            try {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                if (!SpeechRecognition) {
                    console.warn('Speech recognition not supported');
                    micBtn.style.display = 'none';
                    return;
                }

                recognition = new SpeechRecognition();
                recognition.continuous = true;
                recognition.interimResults = true;
                recognition.lang = 'en-US';

                recognition.onstart = () => {
                    isRecording = true;
                    micBtn.classList.add('active');
                    addMessage('ai', 'Listening...');
                };

                recognition.onresult = (event) => {
                    const transcript = Array.from(event.results)
                        .map(result => result[0])
                        .map(result => result.transcript)
                        .join('');
                    
                    chatInput.value = transcript;
                };

                recognition.onerror = (event) => {
                    console.error('Speech recognition error', event.error);
                    isRecording = false;
                    micBtn.classList.remove('active');
                    addMessage('ai', `Error: ${event.error}`);
                };

                recognition.onend = () => {
                    if (isRecording) {
                        recognition.start();
                    } else {
                        micBtn.classList.remove('active');
                    }
                };
            } catch (e) {
                console.error('Speech recognition initialization failed:', e);
                micBtn.style.display = 'none';
            }
        }

        // Toggle microphone
        function toggleMicrophone() {
            if (!recognition) {
                addMessage('ai', 'Speech recognition not available in your browser');
                return;
            }

            if (isRecording) {
                recognition.stop();
                isRecording = false;
            } else {
                recognition.start();
            }
        }

        // Toggle speaker
        function toggleSpeaker() {
            speakerEnabled = !speakerEnabled;
            speakerBtn.classList.toggle('active', speakerEnabled);
            if (gainNode) {
                gainNode.gain.value = speakerEnabled ? volumeSlider.value : 0;
            }
        }

        // Play text as speech
        function speak(text) {
            if (!speakerEnabled || !window.speechSynthesis) return;

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9;
            utterance.pitch = 1;
            utterance.volume = volumeSlider.value;
            window.speechSynthesis.speak(utterance);
        }

        // Sidebar functionality
        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
            mainContent.classList.toggle('expanded');
        });

        mobileToggle.addEventListener('click', () => {
            sidebar.classList.toggle('open');
        });

        // Close sidebar on mobile when clicking outside
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768) {
                if (!sidebar.contains(e.target) && !mobileToggle.contains(e.target)) {
                    sidebar.classList.remove('open');
                }
            }
        });

        // Audio control event listeners
        micBtn.addEventListener('click', toggleMicrophone);
        speakerBtn.addEventListener('click', toggleSpeaker);
        volumeSlider.addEventListener('input', (e) => {
            if (gainNode) {
                gainNode.gain.value = e.target.value;
            }
        });

        // Event Listeners
        uploadArea.addEventListener('click', () => fileInput.click());
        uploadArea.addEventListener('dragover', handleDragOver);
        uploadArea.addEventListener('dragleave', handleDragLeave);
        uploadArea.addEventListener('drop', handleDrop);
        fileInput.addEventListener('change', handleFileSelect);

        // Chat input event listeners
        chatInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        chatInput.addEventListener('input', () => {
            chatInput.style.height = 'auto';
            chatInput.style.height = Math.min(chatInput.scrollHeight, 120) + 'px';
        });

        function handleDragOver(e) {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        }

        function handleDragLeave(e) {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
        }

        function handleDrop(e) {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const files = Array.from(e.dataTransfer.files);
            addFiles(files);
        }

        function handleFileSelect(e) {
            const files = Array.from(e.target.files);
            addFiles(files);
        }

        function addFiles(files) {
            files.forEach(file => {
                if (!uploadedFiles.find(f => f.name === file.name && f.size === file.size)) {
                    uploadedFiles.push({
                        file: file,
                        id: Date.now() + Math.random(),
                        processed: false
                    });
                }
            });
            updateFileList();
            updateButtons();
        }

        function updateFileList() {
            fileList.innerHTML = '';
            uploadedFiles.forEach((fileObj, index) => {
                const fileItem = createFileItem(fileObj, index);
                fileList.appendChild(fileItem);
            });
        }

        function createFileItem(fileObj, index) {
            const div = document.createElement('div');
            div.className = 'file-item';
            
            const extension = fileObj.file.name.split('.').pop().toLowerCase();
            const fileSize = formatFileSize(fileObj.file.size);
            const statusIcon = fileObj.processed ? '✅' : '⏳';
            
            div.innerHTML = `
                <div class="file-info">
                    <div class="file-icon ${getFileIconClass(extension)}">
                        ${extension.toUpperCase()}
                    </div>
                    <div class="file-details">
                        <h4>${statusIcon} ${fileObj.file.name}</h4>
                        <p>${fileSize} • ${extension.toUpperCase()} • ${fileObj.processed ? 'Processed' : 'Ready'}</p>
                    </div>
                </div>
                <div class="file-actions">
                    <button class="btn btn-small btn-danger" onclick="removeFile(${index})">
                        <i data-lucide="trash-2"></i> Remove
                    </button>
                </div>
            `;
            
            // Re-initialize icons for the new content
            lucide.createIcons();
            return div;
        }

        function getFileIconClass(extension) {
            const imageTypes = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp'];
            if (extension === 'pdf') return 'pdf';
            if (imageTypes.includes(extension)) return extension;
            return 'default';
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function removeFile(index) {
            uploadedFiles.splice(index, 1);
            updateFileList();
            updateButtons();
            
            if (uploadedFiles.length === 0) {
                chatSection.style.display = 'none';
                downloadSection.style.display = 'none';
            }
        }

        function updateButtons() {
            processBtn.disabled = uploadedFiles.length === 0;
        }

        function clearAll() {
            uploadedFiles = [];
            processedFiles = [];
            chatHistory = [];
            updateFileList();
            updateButtons();
            hideStatus();
            chatSection.style.display = 'none';
            downloadSection.style.display = 'none';
            chatMessages.innerHTML = '<div class="welcome-message">Start a conversation about your uploaded files...</div>';
            fileInput.value = '';
        }

        async function processFiles() {
            if (uploadedFiles.length === 0) return;
            
            showProgress();
            
            try {
                for (let i = 0; i < uploadedFiles.length; i++) {
                    const fileObj = uploadedFiles[i];
                    updateProgress((i / uploadedFiles.length) * 100);
                    
                    // Simulate processing time
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    
                    fileObj.processed = true;
                    processedFiles.push(fileObj);
                    updateFileList();
                }
                
                updateProgress(100);
                showStatus(`Successfully processed ${uploadedFiles.length} files!`, 'success');
                
                // Show chat and download sections after processing
                setTimeout(() => {
                    chatSection.style.display = 'flex';
                    downloadSection.style.display = 'block';
                    hideProgress();
                    
                    // Add welcome message from AI
                    addMessage('ai', `Great! I've processed ${uploadedFiles.length} files. What would you like to know about them?`);
                    speak(`Great! I've processed ${uploadedFiles.length} files. What would you like to know about them?`);
                    
                    // Scroll chat section into view
                    chatSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 1000);
                
            } catch (error) {
                console.error('Processing error:', error);
                showStatus('Error during file processing: ' + error.message, 'error');
                hideProgress();
            }
        }

        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;

            // Add user message
            addMessage('user', message);
            chatInput.value = '';
            chatInput.style.height = 'auto';

            // Simulate AI response
            setTimeout(() => {
                const responses = [
                    "I can see you've uploaded some interesting files. Let me analyze them for you.",
                    "Based on your files, I can help you with summaries, analysis, or specific questions.",
                    "That's a great question! Let me process the information from your uploaded files.",
                    "I'm analyzing your files now. What specific aspect would you like me to focus on?",
                    "Your files contain valuable information. How can I help you make the most of it?",
                    "I've processed your files and I'm ready to help. What would you like to explore?",
                    "Let me examine the content of your files to provide you with the best assistance."
                ];
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addMessage('ai', randomResponse);
                speak(randomResponse);
            }, 1000);
        }

        function addMessage(sender, content) {
            const welcomeMsg = chatMessages.querySelector('.welcome-message');
            if (welcomeMsg) {
                welcomeMsg.remove();
            }

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const avatar = sender === 'user' ? 'user' : 'bot';
            
            messageDiv.innerHTML = `
                <div class="message-avatar">
                    <i data-lucide="${avatar}"></i>
                </div>
                <div class="message-content">${content}</div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Re-initialize icons for the new content
            lucide.createIcons();
            
            chatHistory.push({ sender, content });
        }

        // Download functions (placeholder - no actual functionality as requested)
        function downloadChat() {
            console.log('Download chat functionality would be implemented here');
        }

        function downloadFiles() {
            console.log('Download files functionality would be implemented here');
        }

        function downloadReport() {
            console.log('Download report functionality would be implemented here');
        }

        function showProgress() {
            progressBar.style.display = 'block';
        }

        function hideProgress() {
            setTimeout(() => {
                progressBar.style.display = 'none';
                progressFill.style.width = '0%';
            }, 1000);
        }

        function updateProgress(percent) {
            progressFill.style.width = percent + '%';
        }

        function showStatus(message, type) {
            statusMessage.innerHTML = message;
            statusMessage.className = `status-message status-${type}`;
            statusMessage.style.display = 'block';
            
            if (type === 'success') {
                setTimeout(hideStatus, 5000);
            }
        }

        function hideStatus() {
            statusMessage.style.display = 'none';
            statusMessage.className = 'status-message';
        }

        // Handle window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768) {
                sidebar.classList.remove('open');
            }
        });

        // Initialize everything
        createParticles();
        updateButtons();
        initAudioContext();
        initSpeechRecognition();
        initSidebarNavigation();
    </script>
</body>
</html>